# ============================================================================
# TINKO RECOVERY - BACKEND ENVIRONMENT VARIABLES
# ============================================================================
# Copy to .env and fill with real values (DO NOT COMMIT .env)

# Database (managed Postgres recommended for staging/prod)
# Example: postgresql://USER:PASSWORD@HOST:5432/DBNAME
DATABASE_URL=postgresql://USER:PASSWORD@HOST:5432/DBNAME

# API Configuration
PUBLIC_BASE_URL=http://localhost:8000
BASE_URL=http://localhost:3000  # Frontend URL for recovery links
CORS_ALLOWED_ORIGINS=http://localhost:3000,http://127.0.0.1:3000
NEXT_PUBLIC_API_URL=http://localhost:8000

# Authentication & Security
JWT_SECRET=replace_with_secure_random_string_min_32_chars
JWT_ALGORITHM=HS256
JWT_EXPIRY_MINUTES=1440

# Google OAuth (Console SSO)
GOOGLE_OAUTH_CLIENT_ID=
GOOGLE_OAUTH_CLIENT_SECRET=

# Stripe Payment Gateway
STRIPE_SECRET_KEY=sk_test_replace_with_your_stripe_secret
STRIPE_WEBHOOK_SECRET=whsec_replace_with_your_webhook_secret

# ============================================================================
# RETRY-001: Background Task Processing
# ============================================================================

# Redis (for Celery task queue & caching)
REDIS_URL=redis://redis:6379/0
CELERY_BROKER_URL=redis://redis:6379/0
CELERY_RESULT_BACKEND=redis://redis:6379/0

# Email Notifications (SMTP)
SMTP_HOST=mailhog  # Use 'smtp.gmail.com' for Gmail, 'smtp.sendgrid.net' for SendGrid
SMTP_PORT=1025     # 587 for Gmail/SendGrid with TLS
SMTP_USER=         # Your email or API username
SMTP_PASSWORD=     # Your password or API key
SMTP_FROM=noreply@stealth-recovery.dev
SMTP_USE_TLS=false  # Set to 'true' for production SMTP servers

# SMS Notifications (Twilio - Optional)
TWILIO_ACCOUNT_SID=AC...  # From Twilio Console
TWILIO_AUTH_TOKEN=...     # From Twilio Console
TWILIO_FROM_NUMBER=+1234567890  # Your Twilio phone number

# WhatsApp Notifications (Future - Optional)
WHATSAPP_API_KEY=
WHATSAPP_BUSINESS_NUMBER=

# ============================================================================
# OBSERVABILITY
# ============================================================================

# Sentry Error Tracking (Optional)
SENTRY_DSN=
SENTRY_TRACES_SAMPLE_RATE=0.1   # 10% of requests
SENTRY_PROFILES_SAMPLE_RATE=0.1

# Environment
ENVIRONMENT=development  # development, staging, production

# Logging
LOG_LEVEL=INFO  # DEBUG, INFO, WARNING, ERROR

# Optional analytics sink (disabled by default)
ANALYTICS_SINK_ENABLED=false
ANALYTICS_SINK_URL=

# ============================================================================
# ADDITIONAL PAYMENT SERVICE PROVIDERS (Optional)
# ============================================================================

# Razorpay (India)
RAZORPAY_KEY_ID=
RAZORPAY_KEY_SECRET=
RAZORPAY_WEBHOOK_SECRET=

# Analytics sinks (optional)
CLICKHOUSE_URL=
CLICKHOUSE_DATABASE=
CLICKHOUSE_TABLE=tinko_events
S3_BUCKET_NAME=
S3_REGION=
AWS_ACCESS_KEY_ID=
AWS_SECRET_ACCESS_KEY=

# Public base URLs
# Frontend (public) and API base URLs for cross-service links
PUBLIC_BASE_URL=http://localhost:3000
API_BASE_URL=http://127.0.0.1:8000

# Feature flags
# Use on/off|true/false|1/0|yes/no
FEATURE_ANALYTICS_SINK=off
FEATURE_CLICKHOUSE_SINK=off
FEATURE_S3_SINK=off
FEATURE_SCHEDULE_PICKER=on
FEATURE_I18N=on

# PayU (India)
PAYU_MERCHANT_ID=
PAYU_MERCHANT_KEY=

# Cashfree (India)
CASHFREE_APP_ID=
CASHFREE_SECRET_KEY=
